let data ={
    "data": [
      {
        "Featured_Albums":[
          {
            "name": "Ava Cornish & Brian Hilltest",
            "name_music":"Bloodlust",
            "img": "/assets/album1.jpg.png",
            "mp3": "/assets/1.mp3"
          },
          {
            "name": "Ava Cornish & Brian Hill",
            "name_music":"Time flies",
            "img": "/assets/album2.jpg.png",
            "mp3": "/assets/1.mp3"
          },
          {
            "name": "Ava Cornish & Brian Hilltest",
            "name_music":"Dark matters",
            "img": "/assets/album3.jpg.png",
            "mp3": "/assets/1.mp3"
          },
          {
            "name": "Ava Cornish & Brian Hilltest",
            "name_music":"Eye to eye",
            "img": "/assets/album4.jpg.png",
            "mp3": "/assets/1.mp3"
          },
          {
            "name": "Ava Cornish & Brian Hilltest",
            "name_music":"Cloud nine",
            "img": "/assets/album5.jpg.png",
            "mp3": "/assets/1.mp3"
          },
          {
            "name": "Ava Cornish & Brian Hilltest",
            "name_music":"Cobweb of lies",
            "img": "/assets/album6.jpg.png",
            "mp3": "/assets/1.mp3"
          },
          {
            "name": "Ava Cornish & Brian Hilltest",
            "name_music":"Endless Things",
            "img": "/assets/artist1.jpg.png",
            "mp3": "/assets/1.mp3"
          },
          {
            "name": "Ava Cornish & Brian Hilltest",
            "name_music":"Desired Games",
            "img": "/assets/artist2.jpg.png",
            "mp3": "/assets/1.mp3"
          }

        ]
      },
      {
        "Trending_Albums":[
          {
            "name": "Ava Cornish & Brian Hilltest",
            "name_music":"Dream Your",
            "img": "/assets/artist13.jpg.png",
            "mp3": "/assets/1.mp3"
          },
          {
            "name": "Ava Cornish & Brian Hill",
            "name_music":"Until I Met You",
            "img": "/assets/artist12.jpg.png",
            "mp3": "/assets/1.mp3"
          },
          {
            "name": "Ava Cornish & Brian Hilltest",
            "name_music":"Gimme Some Courage",
            "img": "/assets/artist11.jpg.png",
            "mp3": "/assets/1.mp3"
          },
          {
            "name": "Ava Cornish & Brian Hilltest",
            "name_music":"Dark Alley Acoustic",
            "img": "/assets/artist10.jpg.png",
            "mp3": "/assets/1.mp3"
          },
          {
            "name": "Ava Cornish & Brian Hilltest",
            "name_music":"Walking Promises",
            "img": "/assets/artist9.jpg.png",
            "mp3": "/assets/1.mp3"
          },
          {
            "name": "Ava Cornish & Brian Hilltest",
            "name_music":"Desired Games",
            "img": "/assets/artist8.jpg.png",
            "mp3": "/assets/1.mp3"
          },
          {
            "name": "Ava Cornish & Brian Hilltest",
            "name_music":"Endless Things",
            "img": "/assets/artist7.jpg.png",
            "mp3": "/assets/1.mp3"
          },
          {
            "name": "Ava Cornish & Brian Hilltest",
            "name_music":"Desired Games",
            "img": "/assets/artist6.jpg.png",
            "mp3": "/assets/1.mp3"
          }

        ]
      },
      {
        "top_15_albums":[
            {
                "name": "Ava Cornish & Brian Hilltest",
                "name_music":"Dream Your",
                "img": "/assets/1.png",
                "mp3": "/assets/1.mp3"
            },
            {
                "name": "Ava Cornish & Brian Hill",
                "name_music":"Until I Met You",
                "img": "/assets/2.png",
                "mp3": "/assets/1.mp3"
            },
            {
                "name": "Ava Cornish & Brian Hilltest",
                "name_music":"Gimme Some",
                "img": "/assets/3.png",
                "mp3": "/assets/1.mp3"
            },
            {
                "name": "Ava Cornish & Brian Hilltest",
                "name_music":"Dark Alley Acoustic",
                "img": "/assets/4.png",
                "mp3": "/assets/1.mp3"
            },
            {
                "name": "Ava Cornish & Brian Hilltest",
                "name_music":"Walking Promises",
                "img": "/assets/5.png",
                "mp3": "/assets/1.mp3"
            },
            {
                "name": "Ava Cornish & Brian Hilltest",
                "name_music":"Desired Games",
                "img": "/assets/6.png",
                "mp3": "/assets/1.mp3"
            },
            {
                "name": "Ava Cornish & Brian Hilltest",
                "name_music":"Endless Things",
                "img": "/assets/7.png",
                "mp3": "/assets/1.mp3"
            },
            {
                "name": "Ava Cornish & Brian Hilltest",
                "name_music":"Desired Games",
                "img": "/assets/8.png",
                "mp3": "/assets/1.mp3"
            },
            {
                "name": "Ava Cornish & Brian Hilltest",
                "name_music":"Desired Games",
                "img": "/assets/9.png",
                "mp3": "/assets/1.mp3"
            },
            {
                "name": "Ava Cornish & Brian Hilltest",
                "name_music":"Desired Games",
                "img": "/assets/10.png",
                "mp3": "/assets/1.mp3"
            },
            {
                "name": "Ava Cornish & Brian Hilltest",
                "name_music":"Desired Games",
                "img": "/assets/11.png",
                "mp3": "/assets/1.mp3"
            },
            {
                "name": "Ava Cornish & Brian Hilltest",
                "name_music":"Desired Games",
                "img": "/assets/12.png",
                "mp3": "/assets/1.mp3"
            },
            {
                "name": "Ava Cornish & Brian Hilltest",
                "name_music":"Desired Games",
                "img": "/assets/13.png",
                "mp3": "/assets/1.mp3"
            },
            {
                "name": "Ava Cornish & Brian Hilltest",
                "name_music":"Desired Games",
                "img": "/assets/14.png",
                "mp3": "/assets/1.mp3"
            },
            {
                "name": "Ava Cornish & Brian Hilltest",
                "name_music":"Desired Games",
                "img": "/assets/15.png",
                "mp3": "/assets/1.mp3"
            }
        ]
      }
  
    ]
  }

  document.addEventListener("DOMContentLoaded", function () {
    const featuredContainer = document.getElementById("featured-albums");
    const trendingContainer = document.getElementById("trending-albums");
    const top15Container = document.getElementById("top15_albums");
  
    const featuredAlbums = data.data[0].Featured_Albums;
    const trendingAlbums = data.data[1].Trending_Albums;
    const top15Albums = data.data[2].top_15_albums;
  
    // Wrap indices in objects for reference
    const featuredRef = { value: 0 };
    const trendingRef = { value: 0 };
  
    // Generic render function with prev/next buttons
    function renderAlbums(container, albums, ref) {
      const index = ref.value;
      const visible = albums.slice(index, index + 6);
      container.innerHTML = `
        <button id="${container.id}-prev" class="btn btn-sm btn-outline-secondary me-1">
          <i class="bi bi-chevron-left"></i>
        </button>
        ${visible.map(album => `
          <div class="${container.classList.contains('featured-albums') ? 'Featured-item' : 'Trending-item'}">
            <div class="mb-3"><img src="${album.img}" alt=""></div>
            <div><h6>${album.name_music}</h6></div>
            <div><span>${album.name}</span></div>
          </div>
        `).join('')}
        <button id="${container.id}-next" class="btn btn-sm btn-outline-secondary ms-1">
          <i class="bi bi-chevron-right"></i>
        </button>
      `;
    }
  
    // Bind navigation handlers
    function bindNav(container, albums, ref) {
      const prevBtn = document.getElementById(`${container.id}-prev`);
      const nextBtn = document.getElementById(`${container.id}-next`);
  
      prevBtn.onclick = () => {
        if (ref.value > 0) {
          ref.value--;
          renderAlbums(container, albums, ref);
          bindNav(container, albums, ref);
        }
      };
      nextBtn.onclick = () => {
        if (ref.value < albums.length - 6) {
          ref.value++;
          renderAlbums(container, albums, ref);
          bindNav(container, albums, ref);
        }
      };
    }
  
    // Initial render and bind for Featured & Trending
    renderAlbums(featuredContainer, featuredAlbums, featuredRef);
    bindNav(featuredContainer, featuredAlbums, featuredRef);
  
    renderAlbums(trendingContainer, trendingAlbums, trendingRef);
    bindNav(trendingContainer, trendingAlbums, trendingRef);
  
    // Render Top 15 Albums
    let top15HTML = "";
    for (let i = 0; i < 3; i++) {
      top15HTML += '<div class="me-3">';
      for (let j = 0; j < 5; j++) {
        const idx = i * 5 + j;
        const album = top15Albums[idx];
        top15HTML += `
          <div class="d-flex align-items-center" style="cursor: pointer;" onclick="playAudio('${album.mp3}')">
            <div><h1>${(idx + 1).toString().padStart(2, '0')}</h1></div>
            <div class="divimg mx-3"><img class="small-img" src="${album.img}" alt=""></div>
            <div>
              <p style="margin-bottom: 0px;" class="text-top">${album.name_music}</p>
              <p class="text-top">${album.name}</p>
            </div>
            <div class="ms-5 me-3">5:10</div>
            <div><i class="bi bi-three-dots"></i></div>
          </div>
          <hr>
        `;
      }
      top15HTML += '</div>';
    }
    top15Container.innerHTML = top15HTML;
  });
  
  let currentSrc = null;
